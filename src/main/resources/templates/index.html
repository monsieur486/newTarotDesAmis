<!DOCTYPE HTML>
<html lang="fr" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="~{fragments/header :: header-css}"></div>
    <meta id="logFooter" th:content="${logFooter}"/>
    <title th:text="${title}">Titre</title>
</head>
<body>
<div th:replace="~{fragments/menu :: menu}"></div>
<span class="d-none" id="role-redacteur" sec:authorize="hasRole('REDACTEUR')"></span>
<main class="container-fluid pt-3" style="padding-top: 4rem; padding-bottom: 3.5rem;">
    <div class="mb-2 small text-muted">Message courant</div>
    <div class="row g-2">
        <div class="col-12 col-sm-8 col-md-6">
            <div id="c-info"
                 th:class="${currentMessage.level == 0} ? 'form-control text-start text-danger' : 'form-control text-start'"
                 th:with="nb=${(currentMessage.reunion != null and currentMessage.reunion.listeJoueurs != null) ? #lists.size(currentMessage.reunion.listeJoueurs) : 0}">
                <span th:if="${currentMessage.level == 0}">reunion en erreur</span>
                <span th:if="${currentMessage.level == 1}">En attente de joueurs</span>
                <span th:if="${currentMessage.level > 1}" th:text="${nb + ' joueurs'}">4 joueurs</span>
            </div>
        </div>
    </div>
</main>
<div th:replace="~{fragments/footer :: footer}"></div>
<script src="/webjars/sockjs-client/1.5.1/sockjs.min.js"></script>
<script src="/webjars/stomp-websocket/2.3.4/stomp.min.js"></script>
<script src="/js/app.js"></script>
</body>
</html>